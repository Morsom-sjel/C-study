# 数组前的一小步

**学习视频：哔哩哔哩小甲鱼C语言**

**Change the world by program!**

## 打印（输出）`printf`

| 转换字符 |                      参数类型；转换结果                      |
| :------: | :----------------------------------------------------------: |
|    c     |                          char；字符                          |
|    d     |                    int；有符号十进制整数                     |
|    i     |                             同上                             |
|    e     |       double；以指数形式输出单、双精度浮点数（小写 e）       |
|    E     |                        同上（大写 E）                        |
|    f     |            double；以小数形式输出单、双精度浮点数            |
|    g     | double；以 %f 或 %e 中较短的输出宽度输出单、双精度浮点数（指数显示小写 e） |
|    G     |                    同上（指数显示大写 E）                    |
|    o     |            unsigned int；无符号八进制（无前导 0）            |
|    s     |                        char *；字符串                        |
|    u     |                      int；无符号十进制                       |
|    x     |          unsigned int；无符号十六进制（无前导 0x）           |
|    x     |                      同上（无前导 0X）                       |
|    p     |                        void *；指针值                        |
|    n     |                  int *；存放已写字符的个数                   |
|    %     |                   不进行参数转换；% 自身%                    |

注：如果%后面的字符不是转换字符，则其行为没有定义。



**flags（标志，可选）的内容即含义如下：**

| **标志** | **含义**                                                     |
| -------- | ------------------------------------------------------------ |
| -        | 指定被转换的参数在其字段内左对齐（默认是右对齐）             |
| +        | 指定在输出的数前面加上正负号                                 |
| 空格     | 如果第一个字符不是正负号，则在其前面加上一个空格             |
| 0        | 对于数值转换，当输出长度小于字段宽度时，添加前导 0 进行填充  |
| #        | 指定另一种输出形式： 1. 如果转换字符为 o，则第一个数字为 0 2. 如果转换字符为 x 或 X，则指定在输出的非 0 值前加 0x 或 0X 3. 对于转换字符为 e、E、f、g 或 G 的情况，指定输出总是包含一个小数点。另外，对于转换字符为 g 或 G，还指定输出值尾部无意义的 0 将被保留 |

注：flags 可同时出现多个，且无顺序要求。



**width（宽度，可选）是一个数值，用于指定最小字段的宽度**

转换后的参数输出宽度至少要达到这个数值。如果参数的字符数小于该数值，则在参数左边（如果 flags 设置为 -，要求左对齐的话则在右边）填充一些字符。填充字符通常为空格，但是如果 flags 设置为 0，则填充字符为数字 0。



**.precision（.精度，可选），通过点号（.）分隔字段的宽度和精度**

- 对于字符串，它指定打印的字符的最大个数
- 对于整数，它指定打印的数字位数（必要时可加填充位 0 以达到宽度要求）
- 对于转换字符为 e、E 或 f，它指定打印的小数点后的数字位数
- 对于转换字符为 g 或 G，它指定打印的有效数字位数



**length（长度修饰符，可选）的值可以是 h、hh、l、ll 或 L**



- `hh` 表示将相应的参数按 `signed char` 或 `unsigned char` 类型输出
- `h` 表示将相应的参数按 `short` 或 `unsigned short` 类型输出
- `l` 表示将相应的参数按 `long` 或 `unsigned long` 类型输出
- `ll` 表示将相应的参数按 `long long` 或 `unsigned long long` 类型输出
- `L` 表示将相应的参数按 `long double` 类型输出



**2、... 附加参数**

该参数的个数由格式化字符串决定。

每个参数的值应当与前面格式化字符串中的占位符类型和位置一一对应。



**返回值：**

如果函数调用成功，返回值是实际打印的字符数（不包含表示字符串结束的 '\0'）；

如果函数调用失败，返回值是一个负数。

>  转载至鱼C工作室（[www.fishc.com](http://www.fishc.com/)），版权归鱼C工作室（[www.fishc.com](http://www.fishc.com/)）所有

## 变量

变量名

+ 变量名只能是英文字母和数字或者下划线组成
+ 第一个字母必须是字母或者下划线开头（不能是数字）
+ 变量名区分大小写

关键字：C语言中的一些有特定含义

声明变量的语法：

```c
数据类型 变量名
int a;
char b;
float c;
double d;
```

```c
int main(){
    int a;
    char b;
    float c;
    double d;
    
    a = 520;
    b = 'F';
    c = 3.14;
    d = 3.1415926535;
    
    printf("%d\n", a);
    printf("I love %cishC!\n", b);//字符%c
    printf("圆周率是：%.2f\n", c);//.2是精确到小数点后两位
    printf("精确到小数点后9位的圆周率是：%11.9f\n", d);//11.9是腾出十一位，小数点后占9位，无论单精度还是双精度，都是%f。
}
```



## 常量和宏定义

+ **常量：值不改变(用大写命名)**

1. 整形常量：50,520,1314

2. 实型常量：3.14,5.12

3. 字符常量：

   -普通字符：'L','o','v',''e

   -转义字符：'\n','\t','\b'

4. 字符串常量："FishC"

5. 符号常量：使用之前必须先定义

+ **定义符号常量**

格式（宏定义）：`#define 标识符 常量`

 如：

```c
#include<stdio.h>
#define URL "http://www.fishc.com"
#define NAME "鱼C工作室"
#define YEAR 2010
#define DAY 20
```



## 数据类型

**分类：**

+ 基本类型
  + 整数类型
  + 浮点数类型
  + 字符类型
  + 布尔类型
  + 枚举类型
+ 指针类型
+ 构造类型
  + 数组类型
  + 结构类型
  + 联合类型
+ 空类型

**整数类型：**

`short int` **2字节**

`int` **4字节**

`long int` **4字节**

`long long int` **8字节**

**浮点数类型：**

`float ` **4字节**

`double` **8字节**

`long double` **8字节**

**字符类型：**

`char` **1字节**

**布尔类型：**

`_Bool` **1字节**

**枚举类型：**

`enum` 

**`sizeof` 运算符用于获得数据类型或表达式的长度** 

```c
sizeof(object);//sizeof(对象);
sizeof(type_name);//sizeof(类型);
sizeof object;//sizeof 对象;

int main() {
	printf("int = %d\n", sizeof(int));
	printf("short int = %d\n", sizeof(short));
	printf("long int = %d\n", sizeof(long));
	printf("long long int = %d\n", sizeof(long long));
	printf("char = %d\n", sizeof(char));
	printf("_Bool = %d\n", sizeof(_Bool));
	printf("float = %d\n", sizeof(float));
	printf("double = %d\n", sizeof(double));
	printf("long double = %d\n", sizeof(long double));
	printf("enum = %d\n", sizeof(enum));

	return 0;
}
```

+ **signed和unsigned**

signed有符号，unsigned无符号

```c
[signed] short [int]
unsigned short [int]
[signed] int
unsigned int
[signed] long [int]
unsigned long [int]
[signed] long long [int]
unsigned long long [int]
    
int main(){
    short i;
    unsigned short j;
    i = -1;
    j = -1;
    printf("%d\n", i);//-1
    printf("%u\n", j);//65535
    return 0;
}
```



## 取值范围

+ **比特位：** CPU能读懂的最小单位，bit，b
+ **字节：** 内存机构的最小寻址单位，Byte，B

`1Byte == 8bit`，一个字节等于八个比特位

+ 存放signed类型的存储单元中，左边第一位表示符号位。

![取值范围（1）](https://github.com/Morsom-sjel/C-study/blob/master/picture/%E5%8F%96%E5%80%BC%E8%8C%83%E5%9B%B4%EF%BC%881%EF%BC%89.png?raw=true)

![取值范围（2）](https://github.com/Morsom-sjel/C-study/blob/master/picture/%E5%8F%96%E5%80%BC%E8%8C%83%E5%9B%B4%EF%BC%882%EF%BC%89.png?raw=true)

## 字符和字符串

字符可以表示整数（ASCII码）

+ 字符串：

```c
//声明字符串
char 变量名[数量];
//给字符串赋值
变量名[索引号] = 字符;
```

```c
//声明字符串
char name[5];
//赋值
name[0] = 'F';
name[1] = 'i';
name[2] = 's';
name[3] = 'h';
name[4] = 'C';

//或者
char a[6] = {'F','i','s','h','C','\0'};//5个大小、没有空字符，后面会出现乱码

//或者
char a[] = {'F','i','s','h','C','\'};
    
//或者
char a[] = "FishC";
```



## 算术运算符

| **优先级 ** | **运算符 ** | **含义 **        | **使用形式 **               | **结合性 ** | **说明 **      |
| ----------- | ----------- | ---------------- | --------------------------- | ----------- | -------------- |
| 1           | [ ]         | 数组下标         | 数组名[整型表达式]          | 左到右 →    |                |
|             | ( )         | 圆括号           | (表达式)                    |             |                |
|             | .           | 成员选择（对象） | 对象.成员名                 |             |                |
|             | ->          | 成员选择（指针） | 对象指针->成员名            |             |                |
|             | ++          | 自增运算符       | 变量名++                    |             | 单目运算符     |
|             | --          | 自减运算符       | 变量名--                    |             | 单目运算符     |
| 2           | -           | 负号运算符       | -表达式                     | 右到左←     | 单目运算符     |
|             | (类型)      | 强制类型转换     | (数据类型)表达式            |             | 单目运算符     |
|             | ++          | 自增运算符       | ++变量名                    |             | 单目运算符     |
|             | --          | 自减运算符       | --变量名                    |             | 单目运算符     |
|             | *           | 取值运算符       | *指针表达式                 |             | 单目运算符     |
|             | &           | 取地址运算符     | &左值表达式                 |             | 单目运算符     |
|             | !           | 逻辑非运算符     | !表达式                     |             | 单目运算符     |
|             | ~           | 按位取反运算符   | ~表达式                     |             | 单目运算符     |
|             | sizeof      | 长度运算符       | sizeof 表达式或sizeof(类型) |             | 单目运算符     |
| 3           | /           | 除               | 表达式 / 表达式             | 左到右→     | 双目运算符     |
|             | *           | 乘               | 表达式 * 表达式             |             | 双目运算符     |
|             | %           | 余数（取模）     | 整型表达式 % 整型表达式     |             | 双目运算符     |
| 4           | +           | 加               | 表达式 + 表达式             | 左到右→     | 双目运算符     |
|             | -           | 减               | 表达式 - 表达式             |             | 双目运算符     |
| 5           | <<          | 左移             | 表达式 << 表达式            | 左到右→     | 双目运算符     |
|             | >>          | 右移             | 表达式 >> 表达式            |             | 双目运算符     |
| 6           | >           | 大于             | 表达式 > 表达式             | 左到右→     | 双目运算符     |
|             | >=          | 大于等于         | 表达式 >= 表达式            |             | 双目运算符     |
|             | <           | 小于             | 表达式 < 表达式             |             | 双目运算符     |
|             | <=          | 小于等于         | 表达式 <= 表达式            |             | 双目运算符     |
| 7           | ==          | 等于             | 表达式 == 表达式            | 左到右→     | 双目运算符     |
|             | !=          | 不等于           | 表达式 != 表达式            |             | 双目运算符     |
| 8           | &           | 按位与           | 整型表达式 & 整型表达式     | 左到右 →    | 双目运算符     |
| 9           | ^           | 按位异或         | 整型表达式 ^ 整型表达式     | 左到右 →    | 双目运算符     |
| 10          | \|          | 按位或           | 整型表达式 \| 整型表达式    | 左到右 →    | 双目运算符     |
| 11          | &&          | 逻辑与           | 表达式 && 表达式            | 左到右 →    | 双目运算符     |
| 12          | \|\|        | 逻辑或           | 表达式 \|\| 表达式          | 左到右 →    | 双目运算符     |
| 13          | ?:          | **条件运算符**   | 表达式1? 表达式2: 表达式3   | 右到左 ←    | **三目运算符** |
| 14          | =           | 赋值运算符       | 变量 = 表达式               | 右到左 ←    | 双目运算符     |
|             | /=          | 除后赋值         | 变量 /= 表达式              |             | 双目运算符     |
|             | *=          | 乘后赋值         | 变量 *= 表达式              |             | 双目运算符     |
|             | %=          | 取模后赋值       | 变量 %= 表达式              |             | 双目运算符     |
|             | +=          | 加后赋值         | 变量 += 表达式              |             | 双目运算符     |
|             | -=          | 减后赋值         | 变量 -= 表达式              |             |                |
|             | <<=         | 左移后赋值       | 变量 <<= 表达式             |             | 双目运算符     |
|             | >>=         | 右移后赋值       | 变量 >>= 表达式             |             | 双目运算符     |
|             | &=          | 按位与后赋值     | 变量 &= 表达式              |             | 双目运算符     |
|             | ^=          | 按位异或后赋值   | 变量 ^= 表达式              |             | 双目运算符     |
|             | \|=         | 按位或后赋值     | 变量 \|= 表达式             |             | 双目运算符     |
| 15          | ,           | 逗号运算符       | 表达式1,表达式2,表达式3,…   | 左到右 →    |                |

+ **类型转换**

会自动转换为坑位较大的类型

强制转换：括号类型

## 关系运算符和逻辑运算符

+ **关系运算符（）**

关系运算符都是双目运算符。

优先级低于算术运算符，高于赋值运算符。

![关系运算符](https://github.com/Morsom-sjel/C-study/blob/master/picture/%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6.png?raw=true)

+ 逻辑运算符

![逻辑运算符](https://github.com/Morsom-sjel/C-study/blob/master/picture/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6.png?raw=true)

+ 短路求值+

短路求值又称最小化求值，是一种逻辑运算符的求值策略。

只有当第一个运算符的值无法确定逻辑运算的结果时，才对第二个运算数进行求值。

```c
int main(){
    int a = 3, b = 3;
    (a = 0) && (b = 5);
    printf("a = %d, b = %d\n", a, b);//a = 0, b = 3
    
    (a = 1) || (b = 5);
    printf("a = %d, b = %d\n", a, b);//a = 1, b = 3
}
```



## switch语句和分支嵌套

+ **switch语句：**

```c
switch(表达式){
    case 常量表达式1: 语句或程序块1;
        break;
    case 常量表达式2: 语句或程序块2;
        break;
        ...
    case 常量表达式n: 语句或程序块n;
        break;
    default:语句或程序块n+1        
}
```

+ **分支结构的嵌套：**

```c
if(表达式){
    if(表达式){
        ...
    }else{
        ...
    }
}else{
    if(表达式){
        ...
    }else{
        ...
    }
}
```



## while语句和do_while语句

+ **while语句（入口条件循环）：**

```c
while(循环条件表达式){
    循环体；
}
```

+ **do_while语句（出口条件循环）：**

```c
do{
    循环体;
}while(表达式);
```



## for语句和循环嵌套

+ **for语句：**

```c
for(循环初始化表达式; 循环条件表达式; 循环调整表达式){
    循环体;
}
```

+ **循环嵌套：**

```c
for(循环初始化表达式; 循环条件表达式; 循环调整表达式){
    （循环体;）
   for(循环初始化表达式; 循环条件表达式; 循环调整表达式){
       循环体;
}
}
```



## break语句和continue语句

+ **break语句：**

在循环体中，直接让程序在中途跳出循环。

执行 `break` 语句，直接跳出循环体。

对于嵌套循环来说，`break` 语句只负责跳出所在的那一层循环，要跳出外层循环则需要再布置一个 `break` 语句才行。

+ **continue语句：**

当满足某个条件的时候，跳过本轮循环的内容，直接开始下一轮循环。

当执行到 `continue` 语句的时候，循环体的剩余部分将被忽略，直接进入下一轮循环。

对于嵌套循环来说，`continue` 语句跟 `break` 语句是一样的：它们都只能作用于一层循环体。

**注：** 

1. 在 `for` 语句中，`continue` 语句跳过循环的剩余部分，直接**回到调整**部分。
2. 在 `while` 语句中，调整部分是循环体的一部分，因此 `continue` 语句会把它也跳过。

## 拾遗（一些其他小知识点）

+ **注释：**

两种方式：

```c
//这是注释
```

```c
/* 这是一个跨越多行的注释
   这是注释
   这是注释
   这是注释
   这是一个跨越多行的注释 */
```

+ **goto语句：**

`goto` 语句的作用就是直接跳转到指定标签的位置。

```c
//语法：
goto 标签;
```

```c
int main()
{
    int i = 5;
    
    while (i++)
    {
        if (i > 10)
        {
            goto Label;
        }
    }
    
    Label:  printf("Here, i = %d\n", i);
    
    return 0;
}
```

**注：**开发中要尽量避免使用 goto 语句。

当面临要跳出多层循环的时候，使用 goto 语句要比多个 break 语句好使，使用 goto 语句是情有可原。

+ **左值(lvalue)和右值(rvalue)：**

有时会报错：`error: lvalue required as left operand of assignment`

> C99 标准：
>
> The name "lvalue" comes originally from the assignment expression E1 = E2, in which the left operand E1 is required to be a (modi&#64257;able) lvalue. It is perhaps better considered as representing an object "locator value". What is sometimes called "rvalue" is in this International Standard described as the "value of an expression".

**大意：**

lvalue 这个名字最初确实来自于 E1 = E2（E1 就是那个可改变的左值）。但更合理的解释应该是将 lvalue 理解为 locator value**（特定位置的值）**，rvalue 则应该是 value of an expression**（表达式的值）**。

**即：C 语言的术语 lvalue 指用于识别或定位一个存储位置的标识符。（注意：左值同时还必须是可改变的）。任何可读取的值都被认为是右值（非左值）。**

+ **自增自减：**

 i++、i— 或 ++i、--i 

区别：

i++ 是先使用变量 i 中保存的值，再对自身进行 ++ 运算；

++i 是先对自身进行 ++ 运算，再使用变量 i 的值（这时候变量i的值已经加 1 了）。

+ **条件运算符：**
  唯一的一个三目运算符

语法：

```c
exp1 ? exp2 : exp3;
//exp1 是条件表达式，如果结果为真，返回 exp2，如果为假，返回 exp3。
```

